(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[730],{2586:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>S});var t=s(5155),a=s(2115),o=s(5183),n=s(63),l=s(2619),i=s.n(l);let{Axios:c,AxiosError:u,CanceledError:d,isCancel:m,CancelToken:h,VERSION:p,all:x,Cancel:g,isAxiosError:f,spread:b,toFormData:y,AxiosHeaders:j,HttpStatusCode:v,formToJSON:w,getAdapter:N,mergeConfig:k}=s(5125).A;function S(){let[e,r]=(0,a.useState)(""),[s,l]=(0,a.useState)(""),[c,d]=(0,a.useState)(""),[m,h]=(0,a.useState)(""),[p,x]=(0,a.useState)(""),g=(0,n.useRouter)(),f=async r=>{if(r.preventDefault(),h(""),x(""),s!==c)return void h("As senhas n\xe3o coincidem.");try{await o.A.post("/auth/registrar",{email:e,password:s}),x("Usu\xe1rio registrado com sucesso! Redirecionando para o login..."),setTimeout(()=>{g.push("/login")},2e3)}catch(e){if(e instanceof u){var t,a;(null==(a=e.response)||null==(t=a.data)?void 0:t.detail)?h(e.response.data.detail):h("Ocorreu um erro na resposta do servidor.")}else h("Ocorreu um erro inesperado ao tentar registrar.");console.error("Falha no registro:",e)}};return(0,t.jsx)("main",{className:"flex justify-center items-center min-h-screen font-sans bg-gray-100 p-4",children:(0,t.jsxs)("div",{className:"container mx-auto max-w-md bg-white shadow-2xl rounded-2xl p-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-extrabold text-gray-900 mb-4 text-center",children:"Criar Conta"}),(0,t.jsxs)("form",{onSubmit:f,children:[(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{htmlFor:"email",className:"block text-gray-700 font-bold mb-2",children:"Email"}),(0,t.jsx)("input",{type:"email",id:"email",value:e,onChange:e=>r(e.target.value),required:!0,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-sky-500"})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{htmlFor:"password",className:"block text-gray-700 font-bold mb-2",children:"Senha"}),(0,t.jsx)("input",{type:"password",id:"password",value:s,onChange:e=>l(e.target.value),required:!0,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-sky-500"})]}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("label",{htmlFor:"confirmPassword",className:"block text-gray-700 font-bold mb-2",children:"Confirmar Senha"}),(0,t.jsx)("input",{type:"password",id:"confirmPassword",value:c,onChange:e=>d(e.target.value),required:!0,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-sky-500"})]}),m&&(0,t.jsx)("p",{className:"text-red-500 text-center mb-4",children:m}),p&&(0,t.jsx)("p",{className:"text-green-500 text-center mb-4",children:p}),(0,t.jsx)("button",{type:"submit",className:"w-full bg-sky-500 text-white font-bold py-3 px-6 rounded-full transition duration-300 hover:bg-sky-600 shadow-lg",children:"Registrar"})]}),(0,t.jsxs)("p",{className:"text-center text-gray-600 mt-4",children:["J\xe1 tem uma conta?"," ",(0,t.jsx)(i(),{href:"/login",className:"text-sky-500 hover:underline",children:"Fa\xe7a o login"})]})]})})}},4261:(e,r,s)=>{Promise.resolve().then(s.bind(s,2586))},5183:(e,r,s)=>{"use strict";s.d(r,{A:()=>a});let t=s(5125).A.create({baseURL:"https://gama-apps-cloud.uc.r.appspot.com"});t.interceptors.request.use(e=>{try{let r=localStorage.getItem("authToken");r&&e&&e.headers&&(e.headers.Authorization="Bearer ".concat(r))}catch(e){}return e},e=>Promise.reject(e)),t.interceptors.response.use(e=>e,e=>{if(e&&e.response&&401===e.response.status)try{localStorage.removeItem("authToken"),window.location.href="/login"}catch(e){}return Promise.reject(e)});let a=t}},e=>{e.O(0,[714,619,441,255,358],()=>e(e.s=4261)),_N_E=e.O()}]);