(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{17:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var r=s(5155),a=s(2115),n=s(5183),o=s(63),l=s(2619),c=s.n(l);function i(){let[e,t]=(0,a.useState)(""),[s,l]=(0,a.useState)(""),[i,u]=(0,a.useState)(""),d=(0,o.useRouter)(),m=async t=>{t.preventDefault(),u("");let r=new URLSearchParams;r.append("username",e),r.append("password",s);try{let{access_token:e}=(await n.A.post("/auth/login",r,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})).data;localStorage.setItem("authToken",e),d.push("/")}catch(e){console.error("Falha no login:",e),u("E-mail ou senha incorretos.")}};return(0,r.jsx)("main",{className:"flex justify-center items-center min-h-screen font-sans bg-gray-100 p-4",children:(0,r.jsxs)("div",{className:"container mx-auto max-w-md bg-white shadow-2xl rounded-2xl p-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-extrabold text-gray-900 mb-4 text-center",children:"Login"}),(0,r.jsxs)("form",{onSubmit:m,children:[(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{htmlFor:"email",className:"block text-gray-700 font-bold mb-2",children:"Email"}),(0,r.jsx)("input",{type:"email",id:"email",value:e,onChange:e=>t(e.target.value),required:!0,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-sky-500"})]}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("label",{htmlFor:"password",className:"block text-gray-700 font-bold mb-2",children:"Senha"}),(0,r.jsx)("input",{type:"password",id:"password",value:s,onChange:e=>l(e.target.value),required:!0,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-sky-500"})]}),i&&(0,r.jsx)("p",{className:"text-red-500 text-center mb-4",children:i}),(0,r.jsx)("button",{type:"submit",className:"w-full bg-sky-500 text-white font-bold py-3 px-6 rounded-full transition duration-300 hover:bg-sky-600 shadow-lg",children:"Entrar"})]}),(0,r.jsxs)("p",{className:"text-center text-gray-600 mt-4",children:["N\xe3o tem uma conta?"," ",(0,r.jsx)(c(),{href:"/registrar",className:"text-sky-500 hover:underline",children:"Registre-se"})]})]})})}},5183:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let r=s(5125).A.create({baseURL:"https://gama-apps-cloud.uc.r.appspot.com"});r.interceptors.request.use(e=>{try{let t=localStorage.getItem("authToken");t&&e&&e.headers&&(e.headers.Authorization="Bearer ".concat(t))}catch(e){}return e},e=>Promise.reject(e)),r.interceptors.response.use(e=>e,e=>{if(e&&e.response&&401===e.response.status)try{localStorage.removeItem("authToken"),window.location.href="/login"}catch(e){}return Promise.reject(e)});let a=r},5483:(e,t,s)=>{Promise.resolve().then(s.bind(s,17))}},e=>{e.O(0,[714,619,441,255,358],()=>e(e.s=5483)),_N_E=e.O()}]);